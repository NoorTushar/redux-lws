# React-Redux

## 游늶 Steps and Folder Structure

Install redux and react redux

```
npm i redux react-redux
```

### 游릭 1. Create action types

It is better than whatever actions we have planned initially, to make a file regarding them initially

src -> redux -> counter -> actionTypes.js

```js
export const INCREMENT = "counter/increment";
export const DECREMENT = "counter/decrement";
```

### 游릭 2. Create actions

src -> redux -> counter -> actions.js

```js
import { INCREMENT, DECREMENT } from "./actionTypes.js";

export const increment = (value) => {
   return { type: INCREMENT, payload: value };
};

export const decrement = (value) => {
   return { type: DECREMENT, payload: value };
};
```

### 游릭 3. Create Reducer function - your business logic

src -> redux -> counter -> counterReducer.js

```js
import { DECREMENT, INCREMENT } from "./actionTypes";

const initialState = { value: 0 };

const counterReducer = (state = initialState, action) => {
   switch (action.type) {
      case INCREMENT:
         return { ...state, value: state.value + action.payload };
      case DECREMENT:
         return { ...state, value: state.value - action.payload };
      default:
         return { ...state };
   }
};

export default counterReducer;
```

### 游릭 4. Create Store

src -> redux -> store.js

```js
import { createStore } from "redux";
import counterReducer from "./counter/counterReducer";

const store = createStore(counterReducer);

export default store;
```

Setup Provider

```js
import "./App.css";
import CounterLesson from "./CounterLesson/CounterLesson";

import { Provider } from "react-redux";
import store from "./redux/store";

function App() {
   return (
      <>
         <Provider store={store}>
            <CounterLesson />
         </Provider>
      </>
   );
}

export default App;
```

### 游릭 5. Show on UI: Connect the component

full code of Counter component:

```js
import { connect } from "react-redux";
import { decrement, increment } from "../redux/counter/actions";

function Counter({ count, increment, decrement }) {
   return (
      <div className="p-4 h-auto flex flex-col items-center justify-center space-y-5 bg-white rounded shadow">
         <div className="text-2xl font-semibold">{count}</div>
         <div className="flex space-x-3">
            <button
               className="bg-indigo-400 text-white px-3 py-2 rounded shadow"
               onClick={increment}
            >
               Increment
            </button>
            <button
               className="bg-red-400 text-white px-3 py-2 rounded shadow"
               onClick={decrement}
            >
               Decrement
            </button>
         </div>
      </div>
   );
}

const mapStateToProps = (state) => {
   return {
      count: state.value,
   };
};

const mapDispatchToProps = (dispatch) => {
   return {
      increment: () => dispatch(increment(3)),
      decrement: () => dispatch(decrement(4)),
   };
};

export default connect(mapStateToProps, mapDispatchToProps)(Counter);
```

### 游릭 6. Making Life Easy: Using useSelector() hook of Redux

So above we have seen a hectic approach which was used during class component era. Now as we have functional components, we can use useSelector hook to get the state value rather than using `mapStateToProps`.

Just use this simple one line:

```js
const count = useSelector((state) => state.value);
```

React will use it's state as argument in our stare parameter.

Selector - Selects something from state.
